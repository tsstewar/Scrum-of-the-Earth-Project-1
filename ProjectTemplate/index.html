<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Timr</title>
	<!--DO NOT FORGET THIS SCRIPT TAG SO YOU CAN USE JQUERY!!!!!-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

	<!--YOUR OWN JAVASCRIPT CAN GO RIGHT HERE-->
	<script type="text/javascript">
		var h5 = document.getElementsByTagName('h5'),
			start = document.getElementById('start'),
			stop = document.getElementById('stop'),
			clear = document.getElementById('clear'),
			seconds = 0, minutes = 0, hours = 0,
			t;

        //TIMER PORTION JS

			

        function add() {
            seconds++;
            if (seconds >= 60) {
                seconds = 0;
                minutes++;
                if (minutes >= 60) {
                    minutes = 0;
                    hours++;
                }
            }
            document.getElementById("h5").innerHTML = (hours ? (hours > 9 ? hours : "0" + hours) : "00") + ":" + (minutes ? (minutes > 9 ? minutes : "0" + minutes) : "00") + ":" + (seconds > 9 ? seconds : "0" + seconds);
            //h5.textContent = (hours ? (hours > 9 ? hours : "0" + hours) : "00") + ":" + (minutes ? (minutes > 9 ? minutes : "0" + minutes) : "00") + ":" + (seconds > 9 ? seconds : "0" + seconds);

            timer();
        }

        function timer() {
            t = setTimeout(add, 1000);
        }
        //timer();


        /* Start button */
        //start.onclick = timer();


        /* Stop button */
        function plzstop() {
            clearTimeout(t);
        }

        /* Clear button */
        function clearnow() {
            document.getElementById("h5").innerHTML = "00:00:00";
            seconds = 0; minutes = 0; hours = 0;
        }
        //END TIMER PORTION


        function itemDelete(r) {
            var i = r.parentNode.parentNode.rowIndex;
            document.getElementById("logTable").deleteRow(i);

            //if 'edit log comment' is pressed
            //var lc = r.parentNode.parentNode.rowIndex.cell1;
            //lc.text = "";
        }

        function editComment(r) {
            var comment = window.prompt("Enter new Log Comment", "");

            if (comment != null) {
                var table = document.getElementById("logTable");
                var rowNum = r.parentNode.parentNode.rowIndex;

                //confirm if user wants to change
                var confirms = window.confirm("Are you sure you want to change the comment?")

                //yes
                if (confirms == true) {
                    table.rows[rowNum].cells[0].innerHTML = comment;
                }


            }
        }

        function editTime(r) {
            var comment = window.prompt("Enter new Time Logged", "00:00:00");

            if (comment != null) {
                var table = document.getElementById("logTable");
                var rowNum = r.parentNode.parentNode.rowIndex;

                //confirm if user wants to change
                var confirms = window.confirm("Are you sure you want to change the time?")

                //yes
                if (confirms == true) {
                    table.rows[rowNum].cells[2].innerHTML = comment;
                }

            }
        }


        //function to clear the timer and show a log entry with the recorded time and comment in a table below the timer
        function logtime() {
            var table = document.getElementById("logTable");
            var row = table.insertRow(1);

            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            var cell4 = row.insertCell(3);
            var cell5 = row.insertCell(4);

            //cell2.innerHTML = $("#timeComment").value;
            //cell2.innerHTML = $("#h5").value;

            cell1.innerHTML = document.getElementById("timeComment").value;
            cell2.innerHTML = '<button onclick="editComment(this)">Edit</button>';
            cell3.innerHTML = document.getElementById("h5").innerHTML;
            cell4.innerHTML = '<button onclick="editTime(this)">Edit</button>';
            cell5.innerHTML = '<button onclick="itemDelete(this)">Delete</button>';

        }

	</script>
	<!--END OF YOUR OWN JAVASCRIPT-->

	<!--AND YOUR OWN CSS CAN GO HERE AS WELL-->
	<style>

        #logTable {
            font-family: verdana, arial, sans-serif;
            font-size: 11px;
            color: #333333;
            border-width: 1px;
            border-color: #3A3A3A;
            border-collapse: collapse;
        }

        #logTable th {
            border-width: 1px;
            padding: 8px;
            border-style: solid;
            border-color: #517994;
            background-color: #B2CFD8;
        }

        #logTable tr:hover td {
            background-color: #DFEBF1;
        }

        #logTable td {
            border-width: 1px;
            padding: 8px;
            border-style: solid;
            border-color: #517994;
            background-color: #ffffff;
        }
        #h5 {
            border-style: solid;
            border-color: black;
            border-width: 1px;
            display: inline;
            padding: 3px;
        }
	</style>
	<!--END OF YOUR OWN CSS-->
</head >
<body>
    <!--TIMER HTML-->
    <br /><br /><br />
    <h5 id="h5"><time>00:00:00</time></h5>
    <button id="start" onclick="timer()">start</button>
    <button id="stop" onclick="plzstop()">stop</button>
    <button id="clear" onclick="clearnow()">clear</button>
    <input id="timeComment" placeholder="Enter a comment">
    <button id="logBtn" onclick="logtime()">Log Time</button>

    <!--Table for the timer log-->
    <br /><br /><br />
    <table id="logTable">
        <tr>
            <th>Log Comment</th>
            <th>Edit Log Comment</th>
            <th>Time Logged</th>
            <th>Edit Time Logged</th>
            <th>Delete</th>
        </tr>
        <!--<tr>
            <td>Team meeting</td>
            <td>00:01:23</td>
        </tr>
        <tr>
            <td>Contract negotitions</td>
            <td>00:04:12</td>
        </tr>-->
    </table>
    <br />
</body>
</html >
